<!DOCTYPE html>
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<meta charset=utf-8 />
  <meta name="case" value="500/500" media="only screen and (min-width:0)"/>
  <meta name="case" value="700/700" media="only screen and (min-width:500px)"/>
  <meta name="case" value="1024/1024" media="only screen and (min-width:700px)"/>
<title>MetaVar - Polyfill</title>
<link href='http://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
<style>
  /* Webkit hack - see http://bit.ly/zucsPo */
  @media screen and (max-width:0) {
    .foo { }
  }
  @media screen and (max-width:500px) {
    .foo { }
  }
  @media screen and (max-width:700px) {
    .foo { }
  }
  
  /* Demo stylings */
  body{
  	text-align: center;
	font-family:Helvetica,Arial,sans-serif;
  }
  h1{
	font-family: 'Kaushan Script', cursive;
  }
  img{display:block;margin: 0 auto;}
</style>
</head>
<body>
  <h1>Meta-Variables Polyfill Demo</h1>
  <p>Resize the browser to see the responsive nature kick in. See <a href="https://github.com/pci/metavar_polyfill">here</a> for details and source. Made by <a href="http://twitter.com/philingrey">@philingrey</a></p>
  <img width='75%' src="http://placekitten.com/{case}/">
  <script>
  /* MIT license - http://pci.mit-license.org */
(function(a){function c(c){var d=null;for(var e in b[c]){d=b[c][e].mq.matches?b[c][e].value:d}a("img").each(function(){if(a(this).attr("data-oldsrc")&&a(this).attr("data-oldsrc").match("%7B"+c+"%7D")){this.src=a(this).attr("data-oldsrc").replace("%7B"+c+"%7D",d)}})}var b={};a(function(){a("head meta[name][value][media]").each(function(d,e){var f=a(e),g=f.attr("name"),h=f.attr("value"),i=f.attr("media"),j=window.matchMedia(i);if(!b[g]){b[g]=[];a("img").each(function(){console.log(this.src);if(this.src.match("%7B"+g+"%7D")){a(this).attr("data-oldsrc",this.src)}})}j.addListener(function(a){c(g)});b[g].push({mq:j,value:h});c(g)})})})(jQuery)
  </script>
</body>
</html>
